<!doctype html>
<html lang="id">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WebGIS Titik Rawan Kecelakaan Kota Samarinda</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- Library bawaan qgis2web -->
  <link rel="stylesheet" href="./resources/ol.css" />
  <link rel="stylesheet" href="resources/fontawesome-all.min.css" />
  <link href="resources/photon-geocoder-autocomplete.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./resources/ol-layerswitcher.css" />
  <link rel="stylesheet" href="./resources/qgis2web.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- Chart.js Plugin -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
</head>

<body>
  <!-- Navigation Bar yang Diperbarui -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary custom-navbar">
    <div class="container">
      <!-- Logo -->
      <a class="navbar-brand d-flex align-items-center" href="#">
        <div class="logo-container me-3">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16 2L2 28H30L16 2Z" fill="#f39c12" stroke="#fff" stroke-width="2" />
            <path d="M16 12V20" stroke="#fff" stroke-width="3" stroke-linecap="round" />
            <path d="M16 24V24" stroke="#fff" stroke-width="3" stroke-linecap="round" />
          </svg>
        </div>
        <div class="brand-text">
          <span class="brand-title">Peta Daerah Rawan Kecelakaan</span>
          <span class="brand-subtitle">Kota Samarinda</span>
        </div>
      </a>

      <!-- Hanya Tombol Mode Gelap -->
      <div class="navbar-nav ms-auto">
        <button class="btn btn-outline-light btn-sm" id="darkModeToggle">
          <i class="bi bi-moon"></i> Mode Gelap
        </button>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="container-fluid py-4">
    <div class="row g-3">
      <!-- Dashboard Sidebar -->
      <div class="col-lg-4 col-xl-3">
        <!-- Digital Clock Section -->
        <div class="filter-section">
          <h6 class="mb-3"><i class="bi bi-clock me-2"></i>Waktu Saat Ini</h6>
          
          <!-- Digital Clock dengan animasi -->
          <div class="digital-clock-container text-center mb-3">
            <div class="clock-display">
              <div class="time-main" id="currentTime">00:00:00</div>
              <div class="date-subtitle" id="currentDate">Hari, 1 Januari 2025</div>
              <div class="location-info" id="locationInfo">Kota Samarinda</div>
            </div>
          </div>

          <!-- Weather Icon Animation -->
          <div class="weather-animation text-center">
            <div class="weather-icon" id="weatherIcon">
              <i class="bi bi-sun"></i>
            </div>
            <div class="weather-text small text-muted" id="weatherText">Cuaca Cerah</div>
          </div>
        </div>

        <!-- Statistics Cards -->
        <div class="row g-2 mb-3">
          <div class="col-6">
            <div class="stat-card primary p-3">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <h4 class="mb-0">372</h4>
                  <small class="text-muted">Total Kecelakaan</small>
                </div>
                <i class="bi bi-exclamation-triangle text-primary fs-4"></i>
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card secondary p-3">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <h4 class="mb-0">213</h4>
                  <small class="text-muted">Korban Meninggal</small>
                </div>
                <i class="bi bi-heartbreak text-danger fs-4"></i>
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card success p-3">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <h4 class="mb-0">53</h4>
                  <small class="text-muted">Luka Berat</small>
                </div>
                <i class="bi bi-activity text-success fs-4"></i>
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card warning p-3">
              <div class="d-flex justify-content-between align-items-center">
                <div>
                  <h4 class="mb-0">216</h4>
                  <small class="text-muted">Luka Ringan</small>
                </div>
                <i class="bi bi-person-check text-warning fs-4"></i>
              </div>
            </div>
          </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-group">
          <div class="chart-container">
            <h6 class="mb-3"><i class="bi bi-bar-chart me-2"></i>Trend Tahunan Kecelakaan</h6>
            <div class="chart-wrapper">
              <canvas id="chartTahunan"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <h6 class="mb-3"><i class="bi bi-pie-chart me-2"></i>Distribusi Korban</h6>
            <div class="chart-wrapper">
              <canvas id="chartKorban"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Map and Data Section -->
      <div class="col-lg-8 col-xl-9">
        <div class="row g-3">
          <div class="col-12">
            <div class="card border-0 shadow-sm">
              <div class="card-header bg-primary text-white">
                <h6 class="mb-0"><i class="bi bi-map me-2"></i>Peta Titik Rawan Kecelakaan Kota Samarinda</h6>
              </div>
              <div class="card-body p-0 position-relative">
                <div id="map" class="main-map">
                  <div id="popup" class="ol-popup">
                    <a href="#" id="popup-closer" class="ol-popup-closer"></a>
                    <div id="popup-content"></div>
                  </div>
                </div>

                <!-- LEGENDA ZONA - DIPINDAH KE LUAR CONTAINER PETA TAPI MASIH DALAM CARD BODY -->
                <div class="legend-zona-container">
                  <div class="legend-zona">
                    <h6><i class="bi bi-info-circle me-1"></i>Keterangan Zona Rawan</h6>
                    <div class="zona-item">
                      <div class="zona-color zona-aman"></div>
                      <div class="zona-text">Zona Aman (Tingkat 0) – Tingkat kecelakaan rendah</div>
                    </div>
                    <div class="zona-item">
                      <div class="zona-color zona-waspada"></div>
                      <div class="zona-text">Zona Waspada (Tingkat 1) – Tingkat kecelakaan sedang</div>
                    </div>
                    <div class="zona-item">
                      <div class="zona-color zona-rawan"></div>
                      <div class="zona-text">Zona Rawan (Tingkat 2) – Tingkat kecelakaan tinggi</div>
                    </div>
                    <div class="zona-item">
                      <div class="zona-color zona-sangat-rawan"></div>
                      <div class="zona-text">Zona Sangat Rawan (Tingkat 3) – Tingkat kecelakaan sangat tinggi</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Monthly Charts -->
          <div class="col-12">
            <div class="chart-container">
              <h6 class="mb-3"><i class="bi bi-graph-up me-2"></i>Trend Bulanan Kecelakaan 2021-2023</h6>
              <div class="chart-wrapper">
                <canvas id="chartBulanan"></canvas>
              </div>
            </div>
          </div>

          <!-- Data Tables -->
          <div class="col-12">
            <div class="table-container">
              <h6 class="mb-3"><i class="bi bi-table me-2"></i>Data Kecelakaan per Bulan 2021-2023</h6>
              <div class="table-responsive" style="max-height: 500px; overflow: auto;">
                <table class="table table-hover table-sm" id="dataTable">
                  <thead class="table-primary" style="position: sticky; top: 0; z-index: 1;">
                    <tr>
                      <th rowspan="2" style="min-width: 100px;">Bulan</th>
                      <th colspan="5" class="text-center bg-2021">2021</th>
                      <th colspan="5" class="text-center bg-2022">2022</th>
                      <th colspan="5" class="text-center bg-2023">2023</th>
                    </tr>
                    <tr>
                      <!-- 2021 Headers -->
                      <th style="min-width: 70px;">Jumlah</th>
                      <th style="min-width: 70px;">Selesai</th>
                      <th style="min-width: 80px;">Meninggal</th>
                      <th style="min-width: 80px;">Luka Berat</th>
                      <th style="min-width: 80px;">Luka Ringan</th>
                      <!-- 2022 Headers -->
                      <th style="min-width: 70px;">Jumlah</th>
                      <th style="min-width: 70px;">Selesai</th>
                      <th style="min-width: 80px;">Meninggal</th>
                      <th style="min-width: 80px;">Luka Berat</th>
                      <th style="min-width: 80px;">Luka Ringan</th>
                      <!-- 2023 Headers -->
                      <th style="min-width: 70px;">Jumlah</th>
                      <th style="min-width: 70px;">Selesai</th>
                      <th style="min-width: 80px;">Meninggal</th>
                      <th style="min-width: 80px;">Luka Berat</th>
                      <th style="min-width: 80px;">Luka Ringan</th>
                    </tr>
                  </thead>
                  <tbody id="tableBody">
                    <!-- Data akan diisi oleh JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Summary Table -->
          <div class="col-12">
            <div class="table-container">
              <h6 class="mb-3"><i class="bi bi-card-checklist me-2"></i>Ringkasan Tahunan Kecelakaan</h6>
              <div class="table-responsive">
                <table class="table table-hover table-sm" id="summaryTable">
                  <thead class="table-success">
                    <tr>
                      <th>Tahun</th>
                      <th>Jumlah Kecelakaan</th>
                      <th>Korban Meninggal</th>
                      <th>Luka Berat</th>
                      <th>Luka Ringan</th>
                      <th>Total Korban</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- Data akan diisi oleh JavaScript -->
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer mt-4 py-3">
    <div class="container text-center">
      <p class="mb-0">© 2025 - Tim Peta Rawan Kecelakaan | Sistem Informasi Geografis | Data: Polresta Samarinda</p>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- SCRIPT bawaan qgis2web -->
  <script src="resources/qgis2web_expressions.js"></script>
  <script src="./resources/functions.js"></script>
  <script src="./resources/ol.js"></script>
  <script src="./resources/ol-layerswitcher.js"></script>
  <script src="resources/photon-geocoder-autocomplete.min.js"></script>
  <script src="layers/samarinda_1.js"></script>
  <script src="layers/Titik_kecelakaan_2.js"></script>
  <script src="styles/samarinda_1_style.js"></script>
  <script src="styles/Titik_kecelakaan_2_style.js"></script>
  <script src="./layers/layers.js"></script>
  <script src="./resources/Autolinker.min.js"></script>
  <script src="./resources/qgis2web.js"></script>

  <!-- SCRIPT CHART & INTERAKTIVITAS -->
  <script>
    // Tunggu sampai DOM selesai dimuat
    document.addEventListener('DOMContentLoaded', function () {
      // Data dari CSV files
      const data2021 = [
        { bulan: 'Januari', jumlah: 12, selesai: 12, meninggal: 9, lukaBerat: 0, lukaRingan: 9 },
        { bulan: 'Februari', jumlah: 10, selesai: 10, meninggal: 10, lukaBerat: 1, lukaRingan: 3 },
        { bulan: 'Maret', jumlah: 11, selesai: 11, meninggal: 8, lukaBerat: 1, lukaRingan: 5 },
        { bulan: 'April', jumlah: 6, selesai: 6, meninggal: 5, lukaBerat: 2, lukaRingan: 1 },
        { bulan: 'Mei', jumlah: 7, selesai: 7, meninggal: 5, lukaBerat: 1, lukaRingan: 5 },
        { bulan: 'Juni', jumlah: 9, selesai: 9, meninggal: 7, lukaBerat: 1, lukaRingan: 2 },
        { bulan: 'Juli', jumlah: 5, selesai: 5, meninggal: 6, lukaBerat: 0, lukaRingan: 0 },
        { bulan: 'Agustus', jumlah: 11, selesai: 10, meninggal: 8, lukaBerat: 0, lukaRingan: 4 },
        { bulan: 'September', jumlah: 8, selesai: 8, meninggal: 6, lukaBerat: 1, lukaRingan: 3 },
        { bulan: 'Oktober', jumlah: 8, selesai: 5, meninggal: 7, lukaBerat: 2, lukaRingan: 1 },
        { bulan: 'November', jumlah: 6, selesai: 5, meninggal: 3, lukaBerat: 3, lukaRingan: 6 },
        { bulan: 'Desember', jumlah: 4, selesai: 1, meninggal: 3, lukaBerat: 1, lukaRingan: 0 }
      ];

      const data2022 = [
        { bulan: 'Januari', jumlah: 8, selesai: 3, meninggal: 10, lukaBerat: 1, lukaRingan: 2 },
        { bulan: 'Februari', jumlah: 6, selesai: 3, meninggal: 6, lukaBerat: 0, lukaRingan: 6 },
        { bulan: 'Maret', jumlah: 5, selesai: 3, meninggal: 4, lukaBerat: 1, lukaRingan: 2 },
        { bulan: 'April', jumlah: 8, selesai: 2, meninggal: 5, lukaBerat: 2, lukaRingan: 11 },
        { bulan: 'Mei', jumlah: 4, selesai: 2, meninggal: 3, lukaBerat: 0, lukaRingan: 3 },
        { bulan: 'Juni', jumlah: 5, selesai: 5, meninggal: 4, lukaBerat: 1, lukaRingan: 3 },
        { bulan: 'Juli', jumlah: 11, selesai: 7, meninggal: 8, lukaBerat: 4, lukaRingan: 8 },
        { bulan: 'Agustus', jumlah: 12, selesai: 15, meninggal: 8, lukaBerat: 2, lukaRingan: 8 },
        { bulan: 'September', jumlah: 15, selesai: 18, meninggal: 8, lukaBerat: 4, lukaRingan: 7 },
        { bulan: 'Oktober', jumlah: 9, selesai: 14, meninggal: 3, lukaBerat: 7, lukaRingan: 3 },
        { bulan: 'November', jumlah: 9, selesai: 11, meninggal: 5, lukaBerat: 7, lukaRingan: 1 },
        { bulan: 'Desember', jumlah: 10, selesai: 10, meninggal: 5, lukaBerat: 1, lukaRingan: 5 }
      ];

      const data2023 = [
        { bulan: 'Januari', jumlah: 18, selesai: 16, meninggal: 11, lukaBerat: 4, lukaRingan: 10 },
        { bulan: 'Februari', jumlah: 9, selesai: 9, meninggal: 3, lukaBerat: 2, lukaRingan: 11 },
        { bulan: 'Maret', jumlah: 4, selesai: 2, meninggal: 4, lukaBerat: 0, lukaRingan: 1 },
        { bulan: 'April', jumlah: 9, selesai: 10, meninggal: 6, lukaBerat: 5, lukaRingan: 6 },
        { bulan: 'Mei', jumlah: 12, selesai: 8, meninggal: 6, lukaBerat: 2, lukaRingan: 5 },
        { bulan: 'Juni', jumlah: 15, selesai: 12, meninggal: 8, lukaBerat: 0, lukaRingan: 17 },
        { bulan: 'Juli', jumlah: 16, selesai: 10, meninggal: 7, lukaBerat: 5, lukaRingan: 6 },
        { bulan: 'Agustus', jumlah: 19, selesai: 19, meninggal: 6, lukaBerat: 4, lukaRingan: 9 },
        { bulan: 'September', jumlah: 15, selesai: 16, meninggal: 8, lukaBerat: 5, lukaRingan: 4 },
        { bulan: 'Oktober', jumlah: 13, selesai: 17, meninggal: 10, lukaBerat: 3, lukaRingan: 4 },
        { bulan: 'November', jumlah: 20, selesai: 15, meninggal: 6, lukaBerat: 11, lukaRingan: 9 },
        { bulan: 'Desember', jumlah: 23, selesai: 30, meninggal: 7, lukaBerat: 5, lukaRingan: 21 }
      ];

      // Data summary dari file jumlah total.csv
      const summaryData = [
        { tahun: 2021, jumlahKecelakaan: 97, meninggal: 66, lukaBerat: 13, lukaRingan: 47 },
        { tahun: 2022, jumlahKecelakaan: 102, meninggal: 64, lukaBerat: 8, lukaRingan: 67 },
        { tahun: 2023, jumlahKecelakaan: 173, meninggal: 83, lukaBerat: 32, lukaRingan: 102 }
      ];

      // ========== FUNGSI JAM DIGITAL ==========
      function updateClock() {
        const now = new Date();
        
        // Format waktu
        const hours = String(now.getHours()).padStart(2, '0');
        const minutes = String(now.getMinutes()).padStart(2, '0');
        const seconds = String(now.getSeconds()).padStart(2, '0');
        
        // Format tanggal
        const days = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
        const months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
        
        const dayName = days[now.getDay()];
        const date = now.getDate();
        const monthName = months[now.getMonth()];
        const year = now.getFullYear();
        
        // Update elemen HTML
        document.getElementById('currentTime').textContent = `${hours}:${minutes}:${seconds}`;
        document.getElementById('currentDate').textContent = `${dayName}, ${date} ${monthName} ${year}`;
        
        // Animasi detik - berubah warna setiap detik
        const timeElement = document.getElementById('currentTime');
        timeElement.style.color = (now.getSeconds() % 2 === 0) ? '#ffffff' : '#f39c12';
        
        // Update ikon cuaca berdasarkan waktu
        updateWeatherIcon(now.getHours());
      }
      
      function updateWeatherIcon(hour) {
        const weatherIcon = document.getElementById('weatherIcon');
        const weatherText = document.getElementById('weatherText');
        
        let iconClass, weatherDescription;
        
        if (hour >= 6 && hour < 18) {
          // Siang
          if (hour >= 6 && hour < 12) {
            iconClass = 'bi bi-sun';
            weatherDescription = 'Cerah Pagi';
          } else {
            iconClass = 'bi bi-cloud-sun';
            weatherDescription = 'Cerah Siang';
          }
        } else {
          // Malam
          if (hour >= 18 && hour < 21) {
            iconClass = 'bi bi-sunset';
            weatherDescription = 'Senja';
          } else {
            iconClass = 'bi bi-moon-stars';
            weatherDescription = 'Malam Cerah';
          }
        }
        
        weatherIcon.innerHTML = `<i class="${iconClass}"></i>`;
        weatherText.textContent = weatherDescription;
        
        // Animasi ikon
        weatherIcon.style.animation = 'pulse 2s infinite';
      }
      
      // Jalankan jam pertama kali
      updateClock();
      
      // Update jam setiap detik
      setInterval(updateClock, 1000);

      // Inisialisasi Chart Tahunan
      const ctxTahunan = document.getElementById('chartTahunan').getContext('2d');
      new Chart(ctxTahunan, {
        type: "bar",
        data: {
          labels: ["2021", "2022", "2023"],
          datasets: [
            {
              label: "Jumlah Kecelakaan",
              data: [97, 102, 173],
              backgroundColor: "rgba(231, 76, 60, 0.8)",
              borderColor: "#e74c3c",
              borderWidth: 2,
              borderRadius: 5,
              borderSkipped: false,
            }
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: true,
              position: 'top'
            },
            tooltip: {
              backgroundColor: 'rgba(0, 0, 0, 0.8)',
              titleFont: { size: 14 },
              bodyFont: { size: 12 }
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0,0,0,0.1)'
              },
              ticks: {
                font: { size: 11 }
              }
            },
            x: {
              grid: {
                display: false
              },
              ticks: {
                font: { size: 11 }
              }
            }
          },
        },
      });

      // Inisialisasi Chart Korban
      const ctxKorban = document.getElementById('chartKorban').getContext('2d');
      new Chart(ctxKorban, {
        type: "doughnut",
        data: {
          labels: ["Korban Meninggal", "Luka Ringan", "Luka Berat"],
          datasets: [
            {
              data: [213, 216, 53],
              backgroundColor: [
                "#e74c3c",
                "#f39c12",
                "#3498db"
              ],
              borderWidth: 3,
              borderColor: '#fff',
              hoverOffset: 15
            }
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          cutout: '60%',
          plugins: {
            legend: {
              position: 'bottom',
              labels: {
                padding: 20,
                usePointStyle: true,
                pointStyle: 'circle'
              }
            },
            tooltip: {
              callbacks: {
                label: function (context) {
                  const label = context.label || '';
                  const value = context.raw || 0;
                  const total = context.dataset.data.reduce((a, b) => a + b, 0);
                  const percentage = Math.round((value / total) * 100);
                  return `${label}: ${value} (${percentage}%)`;
                }
              }
            }
          },
        },
      });

      // Inisialisasi Chart Bulanan
      const ctxBulanan = document.getElementById('chartBulanan').getContext('2d');
      const bulanLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'Mei', 'Jun', 'Jul', 'Agu', 'Sep', 'Okt', 'Nov', 'Des'];

      new Chart(ctxBulanan, {
        type: "line",
        data: {
          labels: bulanLabels,
          datasets: [
            {
              label: "2021",
              data: data2021.map(d => d.jumlah),
              borderColor: "#e74c3c",
              backgroundColor: "rgba(231, 76, 60, 0.1)",
              borderWidth: 3,
              tension: 0.4,
              fill: true,
              pointBackgroundColor: "#e74c3c",
              pointBorderColor: "#fff",
              pointBorderWidth: 2,
              pointRadius: 5,
              pointHoverRadius: 7
            },
            {
              label: "2022",
              data: data2022.map(d => d.jumlah),
              borderColor: "#3498db",
              backgroundColor: "rgba(52, 152, 219, 0.1)",
              borderWidth: 3,
              tension: 0.4,
              fill: true,
              pointBackgroundColor: "#3498db",
              pointBorderColor: "#fff",
              pointBorderWidth: 2,
              pointRadius: 5,
              pointHoverRadius: 7
            },
            {
              label: "2023",
              data: data2023.map(d => d.jumlah),
              borderColor: "#27ae60",
              backgroundColor: "rgba(39, 174, 96, 0.1)",
              borderWidth: 3,
              tension: 0.4,
              fill: true,
              pointBackgroundColor: "#27ae60",
              pointBorderColor: "#fff",
              pointBorderWidth: 2,
              pointRadius: 5,
              pointHoverRadius: 7
            }
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: true,
              position: 'top'
            },
            tooltip: {
              mode: 'index',
              intersect: false,
              backgroundColor: 'rgba(0, 0, 0, 0.8)'
            }
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: 'rgba(0,0,0,0.1)'
              },
              title: {
                display: true,
                text: 'Jumlah Kecelakaan'
              }
            },
            x: {
              grid: {
                color: 'rgba(0,0,0,0.1)'
              }
            }
          },
          interaction: {
            intersect: false,
            mode: 'nearest'
          },
        },
      });

      // Isi tabel data bulanan
      function populateMonthlyTable() {
        const tableBody = document.querySelector('#dataTable tbody');
        tableBody.innerHTML = '';

        const bulan = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];

        bulan.forEach((bulan, index) => {
          const row = document.createElement('tr');

          // Data 2021
          const data1 = data2021[index];
          // Data 2022
          const data2 = data2022[index];
          // Data 2023
          const data3 = data2023[index];

          row.innerHTML = `
              <td><strong>${bulan}</strong></td>
              <!-- 2021 Data -->
              <td>${data1.jumlah}</td>
              <td>${data1.selesai}</td>
              <td class="text-danger">${data1.meninggal}</td>
              <td class="text-warning">${data1.lukaBerat}</td>
              <td class="text-info">${data1.lukaRingan}</td>
              <!-- 2022 Data -->
              <td>${data2.jumlah}</td>
              <td>${data2.selesai}</td>
              <td class="text-danger">${data2.meninggal}</td>
              <td class="text-warning">${data2.lukaBerat}</td>
              <td class="text-info">${data2.lukaRingan}</td>
              <!-- 2023 Data -->
              <td>${data3.jumlah}</td>
              <td>${data3.selesai}</td>
              <td class="text-danger">${data3.meninggal}</td>
              <td class="text-warning">${data3.lukaBerat}</td>
              <td class="text-info">${data3.lukaRingan}</td>
            `;

          tableBody.appendChild(row);
        });
      }

      // Isi tabel summary
      function populateSummaryTable() {
        const tableBody = document.querySelector('#summaryTable tbody');
        tableBody.innerHTML = '';

        summaryData.forEach((item) => {
          const totalKorban = item.meninggal + item.lukaBerat + item.lukaRingan;
          const row = document.createElement('tr');

          row.innerHTML = `
              <td><strong>${item.tahun}</strong></td>
              <td>${item.jumlahKecelakaan}</td>
              <td class="text-danger">${item.meninggal}</td>
              <td class="text-warning">${item.lukaBerat}</td>
              <td class="text-info">${item.lukaRingan}</td>
              <td><strong>${totalKorban}</strong></td>
            `;

          tableBody.appendChild(row);
        });
      }

      // Mode gelap
      document.getElementById('darkModeToggle').addEventListener('click', function () {
        document.body.classList.toggle('dark-mode');
        const toggleBtn = document.getElementById('darkModeToggle');
        if (document.body.classList.contains('dark-mode')) {
          toggleBtn.innerHTML = '<i class="bi bi-sun"></i> Mode Terang';
          toggleBtn.classList.remove('btn-outline-light');
          toggleBtn.classList.add('btn-light');
        } else {
          toggleBtn.innerHTML = '<i class="bi bi-moon"></i> Mode Gelap';
          toggleBtn.classList.remove('btn-light');
          toggleBtn.classList.add('btn-outline-light');
        }
      });

      // Inisialisasi tabel
      populateMonthlyTable();
      populateSummaryTable();
    });
  </script>
</body>

</html>